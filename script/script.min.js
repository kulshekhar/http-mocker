var XHRInterceptor=function(){function t(t){void 0===t&&(t="http://localhost:18000/"),this.targetURL=t,this.matchers=[],this.throwOnNoMatch=!0}return t.prototype.match=function(t){this.matchers.push(t)},t.prototype.matchAll=function(t){(e=this.matchers).push.apply(e,t);var e},t.prototype.clear=function(){this.matchers=[]},t.prototype.restore=function(){XMLHttpRequest.prototype.open=t.xOpen?t.xOpen:XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.send=t.xSend?t.xSend:XMLHttpRequest.prototype.send},t.restore=function(){XMLHttpRequest.prototype.open=t.xOpen?t.xOpen:XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.send=t.xSend?t.xSend:XMLHttpRequest.prototype.send},t.prototype.intercept=function(){this.interceptOpen(XMLHttpRequest.prototype.open),this.interceptSend(XMLHttpRequest.prototype.send)},t.prototype.interceptOpen=function(e){if(!t.openOR){var o=this;XMLHttpRequest.prototype.open=function(t,n){this.originalURL=n,t="POST",e.call(this,t,o.targetURL)}}},t.prototype.interceptSend=function(e){if(!t.sendOR){var o=this;XMLHttpRequest.prototype.send=function(t){var n=new URL(this.originalURL),p=o.matchers.filter(function(t){"string"==typeof t.expression&&(t.expression=new RegExp(t.expression));var e=n.pathname.match(t.expression);return e&&e.length>0&&e[0].length==n.pathname.length}),s={response:{result:"default payload"},statusCode:200};if(p.length>0)s.statusCode=p[0].statusCode||200,s.response=p[0].response||{result:"default payload"};else{var r=[],i="%cURL not handled: %c"+this.originalURL;if(t&&(i+="\n%cData: %c",i+="string"==typeof t?"%s":"%O",r.push("font-style: italic; color: red; font-size: 12px","font-style: normal; color: green; font-size: 12px;",t)),r.unshift("font-style: italic; color: red; font-size: 12px","font-style: normal; color: green; font-size: 12px;"),console.log.apply(console,[i].concat(r)),o.throwOnNoMatch)throw"URL not handled: "+this.originalURL+"\nData: "+t}"object"==typeof s?(this.setRequestHeader("Content-Type","application/json"),e.call(this,JSON.stringify(s))):e.call(this,s)}}},t.xOpen=XMLHttpRequest.prototype.open,t.xSend=XMLHttpRequest.prototype.send,t.openOR=!1,t.sendOR=!1,t}();window.XHRInterceptor=XHRInterceptor;var Matcher=function(){function t(t,e,o){this.expression=t,this.response=e,this.statusCode=o}return t}();