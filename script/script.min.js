var XHRInterceptor=function(){function t(t){void 0===t&&(t="http://localhost:18000/"),this.targetURL=t,this.matchers=[]}return t.prototype.match=function(t){this.matchers.push(t)},t.prototype.matchAll=function(t){(e=this.matchers).push.apply(e,t);var e},t.prototype.restore=function(){XMLHttpRequest.prototype.open=t.xOpen,XMLHttpRequest.prototype.send=t.xSend},t.restore=function(){XMLHttpRequest.prototype.open=t.xOpen,XMLHttpRequest.prototype.send=t.xSend},t.prototype.intercept=function(){this.interceptOpen(XMLHttpRequest.prototype.open),this.interceptSend(XMLHttpRequest.prototype.send)},t.prototype.interceptOpen=function(e){if(!t.openOR){var n=this;XMLHttpRequest.prototype.open=function(t,p){this.originalURL=p,t="POST",e.call(this,t,n.targetURL)}}},t.prototype.interceptSend=function(e){if(!t.sendOR){var n=this;XMLHttpRequest.prototype.send=function(){var t=new URL(this.originalURL),p=n.matchers.filter(function(e){"string"==typeof e.expression&&(e.expression=new RegExp(e.expression));var n=t.pathname.match(e.expression);return n.length>0&&n[0].length==t.pathname.length}),o={response:"r",statusCode:200};p.length>0&&(o.statusCode=p[0].statusCode,o.response=p[0].response),"object"==typeof o?(this.setRequestHeader("Content-Type","application/json"),e.call(this,JSON.stringify(o))):e.call(this,o)}}},t.xOpen=XMLHttpRequest.prototype.open,t.xSend=XMLHttpRequest.prototype.send,t.openOR=!1,t.sendOR=!1,t}();window.XHRInterceptor=XHRInterceptor;var Matcher=function(){function t(){}return t}();